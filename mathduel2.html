<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>Math Duel – 60 s</title>
<style>
  *{box-sizing:border-box;font-family:system-ui,Arial,Helvetica,sans-serif}
  html,body{margin:0;height:100%;background:#111;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center}
  #card{width:90%;max-width:400px;background:#222;border-radius:12px;padding:20px;text-align:center;box-shadow:0 0 20px #000}
  h1{margin:0 0 10px;font-size:1.6rem}
  #sum{font-size:2.2rem;margin:15px 0}
  input[type=number]{width:100%;font-size:2rem;text-align:center;border:none;border-radius:8px;padding:10px}
  button{width:100%;font-size:1.3rem;padding:12px;margin-top:10px;border:none;border-radius:8px;background:#0af;color:#fff;cursor:pointer}
  button:disabled{background:#444}
  #bar{width:100%;height:8px;background:#444;border-radius:4px;margin:10px 0;overflow:hidden}
  #bar div{height:100%;background:#0af;width:100%;transition:width 60s linear}
  #score{font-size:1.2rem;margin-top:8px}
  #endscreen{display:none}
</style>
</head>
<body>
<div id="card">
  <h1>Math Duel</h1>
  <div id="bar"><div id="fill"></div></div>
  <div id="score">Score: <span id="scr">0</span></div>

  <div id="game">
    <div id="sum">tap START</div>
    <input id="ans" type="number" inputmode="numeric" autocomplete="off" disabled>
    <button id="btn" onclick="start()">START</button>
  </div>

  <div id="endscreen">
    <h2>Time up!</h2>
    <p>Final score: <b id="final">0</b></p>
    <button onclick="location.reload()">Play again</button>
  </div>
</div>

<script>
const ops=[{sign:'+',fn:(a,b)=>a+b},{sign:'−',fn:(a,b)=>a-b},{sign:'×',fn:(a,b)=>a*b}];
let score=0,answ,timeId,barId;

function rand(n){return Math.floor(Math.random()*n)+1}

function newQ(){
  const op=ops[rand(3)-1];
  let a,b;
  if(op.sign==='×'){a=rand(12);b=rand(12)}          // easy tables
  else if(op.sign==='−'){a=rand(30);b=rand(a)}       // no negatives
  else{a=rand(50);b=rand(50)}
  document.getElementById('sum').textContent=`${a} ${op.sign} ${b}`;
  answ=op.fn(a,b);
  document.getElementById('ans').value='';
  document.getElementById('ans').focus();
}

function check(){
  if(Number(document.getElementById('ans').value)===answ){
    score++;
    document.getElementById('scr').textContent=score;
    newQ();
  }
}

function start(){
  document.getElementById('btn').disabled=true;
  document.getElementById('ans').disabled=false;
  newQ();
  // 60-second timer
  timeId=setTimeout(end,60000);
  // progress bar
  const fill=document.getElementById('fill');
  fill.style.transition='none';
  fill.style.width='100%';
  setTimeout(()=>fill.style.transition='width 60s linear',10);
  fill.style.width='0%';
}

function end(){
  clearTimeout(timeId);
  document.getElementById('game').style.display='none';
  document.getElementById('endscreen').style.display='block';
  document.getElementById('final').textContent=score;
}

document.getElementById('ans').addEventListener('keyup',e=>{
  if(e.key==='Enter')check();
});
</script>
</body>
</html>

